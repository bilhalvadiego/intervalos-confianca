---
title: "Intervalos de Confiança com Variância Conhecida"
author: "Diego Bilhalva"
format:
  html:
    toc: true
    code-fold: true
    theme: cosmo
    fig-cap-location: bottom
editor: visual
---

```{r setup}
#| include: false
library(tidyverse)
library(ggplot2)
library(writexl)
source("funcoes_ic.R")

ic_tool <- IntervaloConfianca$new()
```

## Exercício 1 - IC 95% para média de N(4, 9)

```{r}
ic1 <- ic_tool$gerar_ic(
  n_amostras = 100,
  n = 150,
  media = 4,
  variancia = 9,
  nivel_confianca = 0.95
)

write_xlsx(ic1, "ic_exercicio_1.xlsx")

mean(ic1$contem_media_real) * 100
```

```{r, fig.cap="Intervalos de Confiança para a média de N(4,9) - IC 95%", fig.width=8, fig.height=5}
ic_tool$plotar_ic(ic1, media_real = 4, titulo = "IC 95% para média de N(4, 9) - 100 amostras")
```

## Exercício 2 - IC 90% para média de N(25, 36)

```{r}
ic2 <- ic_tool$gerar_ic(
  n_amostras = 150,
  n = 100,
  media = 25,
  variancia = 36,
  nivel_confianca = 0.90
)

write_xlsx(ic2, "ic_exercicio_2.xlsx")

mean(ic2$contem_media_real) * 100
```

```{r, fig.cap="Intervalos de Confiança para a média de N(25,36) - IC 90%", fig.width=8, fig.height=5}
ic_tool$plotar_ic(ic2, media_real = 25, titulo = "IC 90% para média de N(25, 36) - 150 amostras")
```

## Considerações

-   A variância é conhecida, então usamos distribuição normal (z), não t
    de Student.
-   Os intervalos devem conter o valor real da média em \~95% e \~90%
    das vezes, respectivamente.
-   Os gráficos destacam claramente os ICs que não contêm a média
    verdadeira em laranja.
